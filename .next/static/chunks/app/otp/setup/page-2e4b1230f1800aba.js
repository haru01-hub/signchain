(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[661],{7680:function(e,t,n){Promise.resolve().then(n.bind(n,7109))},7109:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i}});var r=n(7437),o=n(2265),s=n(9376);function i(){let[e,t]=(0,o.useState)(""),[n,i]=(0,o.useState)(""),[a,d]=(0,o.useState)(!0),c=(0,s.useRouter)();return(0,o.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/otp/setup",{method:"POST",headers:{"Content-Type":"application/json"}}),n=await e.json();e.ok?t(n.qrCodeUrl):i("❌ ".concat(n.message||"QR 코드 생성 실패"))}catch(e){i("⚠️ 서버 오류가 발생했습니다.")}finally{d(!1)}})()},[c]),(0,r.jsxs)("div",{className:"card",style:{minHeight:420,maxWidth:400,margin:"60px auto",padding:32,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"#fff",borderRadius:16,boxShadow:"0 2px 16px #e3e8f7",border:"1px solid #e3e8f7"},children:[(0,r.jsx)("h1",{style:{fontSize:26,fontWeight:700,color:"#1a237e",marginBottom:18,textAlign:"center"},children:"OTP 설정"}),a?(0,r.jsx)("p",{style:{color:"#1a237e",textAlign:"center",fontWeight:500},children:"QR 코드를 불러오는 중..."}):e?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{style:{textAlign:"center",marginBottom:10},children:[(0,r.jsx)("span",{style:{color:"#38a1e6",fontWeight:700,fontSize:17},children:"Google Authenticator 등으로"}),(0,r.jsx)("br",{}),(0,r.jsx)("span",{style:{color:"#38a1e6",fontWeight:700,fontSize:16},children:"아래 QR 코드를 스캔하세요."})]}),(0,r.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:18},children:(0,r.jsx)("img",{src:e,alt:"OTP QR Code",style:{width:180,height:180,border:"2.5px solid #3b5cff",borderRadius:12,background:"#eaf1ff",padding:8,boxShadow:"0 2px 8px #e3e8f7"}})}),(0,r.jsx)("button",{onClick:()=>c.push("/otp/verify?mode=register"),style:{width:"100%",padding:"12px 0",borderRadius:6,background:"#38a1e6",color:"#fff",fontWeight:700,fontSize:17,border:"none",marginTop:8,marginBottom:4,boxShadow:"0 1px 4px #e3e8f7",transition:"background 0.18s",cursor:"pointer"},onMouseOver:e=>e.currentTarget.style.background="#2386c8",onMouseOut:e=>e.currentTarget.style.background="#38a1e6",children:"OTP 코드 입력"})]}):(0,r.jsxs)("div",{style:{color:"#d32f2f",marginTop:24,textAlign:"center"},children:[(0,r.jsx)("p",{children:n||"이미 인증된 계정입니다. 로그인 후 OTP 인증을 진행하세요."}),(0,r.jsxs)("div",{style:{marginTop:24,display:"flex",gap:12,justifyContent:"center"},children:[(0,r.jsx)("button",{onClick:()=>c.push("/login"),style:{background:"#1a237e",color:"#fff",borderRadius:6,padding:"8px 24px",fontWeight:600,border:"none",fontSize:16},children:"로그인"}),(0,r.jsx)("button",{onClick:()=>c.push("/register"),style:{background:"#bdbdbd",color:"#fff",borderRadius:6,padding:"8px 24px",fontWeight:600,border:"none",fontSize:16},children:"회원가입"})]})]})]})}},9376:function(e,t,n){"use strict";var r=n(5475);n.o(r,"useParams")&&n.d(t,{useParams:function(){return r.useParams}}),n.o(r,"usePathname")&&n.d(t,{usePathname:function(){return r.usePathname}}),n.o(r,"useRouter")&&n.d(t,{useRouter:function(){return r.useRouter}}),n.o(r,"useSearchParams")&&n.d(t,{useSearchParams:function(){return r.useSearchParams}})}},function(e){e.O(0,[971,117,744],function(){return e(e.s=7680)}),_N_E=e.O()}]);