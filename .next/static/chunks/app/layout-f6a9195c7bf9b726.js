(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5128:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,2564)),Promise.resolve().then(r.bind(r,1130)),Promise.resolve().then(r.bind(r,9517)),Promise.resolve().then(r.bind(r,4650))},2564:function(e,t,r){"use strict";r.d(t,{default:function(){return o}});var n=r(7437),i=r(9376),u=r(2265),a=r(3519);function o(){let e=(0,i.usePathname)(),[t,r]=(0,u.useState)(!1),o=(0,u.useRef)(e);return(0,u.useEffect)(()=>{if(o.current!==e){r(!0);let t=setTimeout(()=>r(!1),700);return o.current=e,()=>clearTimeout(t)}},[e]),t?(0,n.jsx)(a.Z,{}):null}r(1551)},3519:function(e,t,r){"use strict";var n=r(7437);r(2265),r(1551),t.Z=()=>(0,n.jsx)("div",{className:"spinner-overlay",children:(0,n.jsx)("div",{className:"spinner"})})},1130:function(e,t,r){"use strict";r.d(t,{ContractProvider:function(){return a},z:function(){return o}});var n=r(7437),i=r(2265);let u=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,i.useState)([]),[o,s]=(0,i.useState)(!0),c=(0,i.useCallback)(async()=>{s(!0);try{let e=await fetch("/api/contract",{credentials:"include"});if(!e.ok)throw Error("API error");let t=await e.json();a(t||[])}catch(e){a([])}finally{s(!1)}},[]);return(0,i.useEffect)(()=>{let e=!1;async function t(){e||await c()}t();let r=setInterval(t,1e4);return()=>{e=!0,clearInterval(r)}},[c]),(0,n.jsx)(u.Provider,{value:{contracts:r,loading:o,refreshContracts:c},children:t})}function o(){let e=(0,i.useContext)(u);if(!e)throw Error("useContractContext must be used within a ContractProvider");return e}},9517:function(e,t,r){"use strict";r.d(t,{NotificationProvider:function(){return a},n:function(){return o}});var n=r(7437),i=r(2265);let u=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,i.useState)([]),[o,s]=(0,i.useState)(0),[c,l]=(0,i.useState)(!0),f=(0,i.useCallback)(async()=>{l(!0);try{let e=await fetch("/api/auth/notifications",{credentials:"include"});if(!e.ok)throw Error("API error");let t=await e.json();a(t.notifications||[]),s((t.notifications||[]).filter(e=>!e.read).length)}catch(e){a([]),s(0)}finally{l(!1)}},[]);return(0,i.useEffect)(()=>{let e=!1;async function t(){e||await f()}t();let r=setInterval(t,1e4);return()=>{e=!0,clearInterval(r)}},[f]),(0,n.jsx)(u.Provider,{value:{notifications:r,unreadCount:o,loading:c,refreshNotifications:f},children:t})}function o(){let e=(0,i.useContext)(u);if(!e)throw Error("useNotificationContext must be used within a NotificationProvider");return e}},4650:function(e,t,r){"use strict";r.d(t,{UserProvider:function(){return a}});var n=r(7437),i=r(2265);let u=(0,i.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,i.useState)(null),o=async()=>{try{let e=await fetch("/api/user/me");if(!e.ok)throw Error("API error");let t=await e.json();a(t)}catch(e){a(null)}};return(0,i.useEffect)(()=>{o()},[]),(0,n.jsx)(u.Provider,{value:{user:r,setUser:a,refreshUser:o},children:t})}},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},7960:function(){},1551:function(){}},function(e){e.O(0,[587,63,971,117,744],function(){return e(e.s=5128)}),_N_E=e.O()}]);